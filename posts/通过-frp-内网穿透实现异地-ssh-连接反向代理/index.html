<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>通过 frp 内网穿透实现异地 SSH 连接（反向代理） | Cassius0924 的博客</title><meta name=keywords content="FRP,SSH,Reverse Proxy,NAT Traversal,Tutorial"><meta name=description content="起因是我放假回家，想在家里通过 SSH 连接放在学校的无显示器的 Linux，但是学校的 Linux 是内网，无法直接连接，且无显示器无法使用向日葵等远程桌面软件，所以想到了使用 frp 的反向代理功能实现内网穿透，进而实现异地 SSH 连接。
前提
一台具有公网 IP 的服务器（阿里云、腾讯云等）

配置远程主机我们需要有三台主机，分别是：自己的电脑、远程 Linux 主机和具有公网 IP 的服务器。
只需要在远程 Linux 和具有公网 IP 的服务器上配置 frp 即可。
首先在远程 Linux 上下载 frp，Github 下载地址。下载远程主机对应的版本，我这里是 ARM64 架构的 Linux，所以下载 frp_0.51.2_linux_arm64.tar.gz。

下载完毕后解压：
tar -xvf frp_0.51.2_linux_arm64.tar.gz
cd frp_0.51.2_linux_arm64
远程 Linux 为客户端，所以只需要保留 frpc* 文件即可，frps可以删除。
rm frps*
修改frpc.ini，只需要将server_addr修改为服务器的 IP 地址即可，local_ip不变。server_port和remote_port一般不变，若与其他服务冲突了可以修改。
vim frpc.ini	#:wq 退出

配置服务器同样下载好对应系统版本的 frp，解压后删除frpc*文件。
rm frpc*
修改frpc.ini，确保bind_port与 frpc 客户端，即远程主机的server_port一致。
再前往阿里云或腾讯云官网配置服务器防火墙规则，开放服务器的 6000 和 7000 端口（若修改了则开放修改后的端口）。"><meta name=author content="Cassius0924"><link rel=canonical href=https://blog.cassdev.com/posts/%E9%80%9A%E8%BF%87-frp-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%AE%9E%E7%8E%B0%E5%BC%82%E5%9C%B0-ssh-%E8%BF%9E%E6%8E%A5%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/><link crossorigin=anonymous href=/assets/css/stylesheet.4f5249ac184c033613d94c5267209e90161d3a93365c2feb0ad3960a4bbb6393.css integrity="sha256-T1JJrBhMAzYT2UxSZyCekBYdOpM2XC/rCtOWCku7Y5M=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.cassdev.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.cassdev.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.cassdev.com/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.cassdev.com/apple-touch-icon.png><link rel=mask-icon href=https://blog.cassdev.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://blog.cassdev.com/posts/%E9%80%9A%E8%BF%87-frp-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%AE%9E%E7%8E%B0%E5%BC%82%E5%9C%B0-ssh-%E8%BF%9E%E6%8E%A5%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://blog.cassdev.com/posts/%E9%80%9A%E8%BF%87-frp-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%AE%9E%E7%8E%B0%E5%BC%82%E5%9C%B0-ssh-%E8%BF%9E%E6%8E%A5%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/"><meta property="og:site_name" content="Cassius0924 的博客"><meta property="og:title" content="通过 frp 内网穿透实现异地 SSH 连接（反向代理）"><meta property="og:description" content="起因是我放假回家，想在家里通过 SSH 连接放在学校的无显示器的 Linux，但是学校的 Linux 是内网，无法直接连接，且无显示器无法使用向日葵等远程桌面软件，所以想到了使用 frp 的反向代理功能实现内网穿透，进而实现异地 SSH 连接。
前提 一台具有公网 IP 的服务器（阿里云、腾讯云等） 配置远程主机我们需要有三台主机，分别是：自己的电脑、远程 Linux 主机和具有公网 IP 的服务器。
只需要在远程 Linux 和具有公网 IP 的服务器上配置 frp 即可。
首先在远程 Linux 上下载 frp，Github 下载地址。下载远程主机对应的版本，我这里是 ARM64 架构的 Linux，所以下载 frp_0.51.2_linux_arm64.tar.gz。
下载完毕后解压：
tar -xvf frp_0.51.2_linux_arm64.tar.gz cd frp_0.51.2_linux_arm64 远程 Linux 为客户端，所以只需要保留 frpc* 文件即可，frps可以删除。
rm frps* 修改frpc.ini，只需要将server_addr修改为服务器的 IP 地址即可，local_ip不变。server_port和remote_port一般不变，若与其他服务冲突了可以修改。
vim frpc.ini	#:wq 退出 配置服务器同样下载好对应系统版本的 frp，解压后删除frpc*文件。
rm frpc* 修改frpc.ini，确保bind_port与 frpc 客户端，即远程主机的server_port一致。
再前往阿里云或腾讯云官网配置服务器防火墙规则，开放服务器的 6000 和 7000 端口（若修改了则开放修改后的端口）。"><meta property="og:locale" content="zh-CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-06-16T11:20:31+08:00"><meta property="article:modified_time" content="2024-06-16T11:20:31+08:00"><meta property="article:tag" content="FRP"><meta property="article:tag" content="SSH"><meta property="article:tag" content="Reverse Proxy"><meta property="article:tag" content="NAT Traversal"><meta property="article:tag" content="Tutorial"><meta name=twitter:card content="summary"><meta name=twitter:title content="通过 frp 内网穿透实现异地 SSH 连接（反向代理）"><meta name=twitter:description content="起因是我放假回家，想在家里通过 SSH 连接放在学校的无显示器的 Linux，但是学校的 Linux 是内网，无法直接连接，且无显示器无法使用向日葵等远程桌面软件，所以想到了使用 frp 的反向代理功能实现内网穿透，进而实现异地 SSH 连接。
前提
一台具有公网 IP 的服务器（阿里云、腾讯云等）

配置远程主机我们需要有三台主机，分别是：自己的电脑、远程 Linux 主机和具有公网 IP 的服务器。
只需要在远程 Linux 和具有公网 IP 的服务器上配置 frp 即可。
首先在远程 Linux 上下载 frp，Github 下载地址。下载远程主机对应的版本，我这里是 ARM64 架构的 Linux，所以下载 frp_0.51.2_linux_arm64.tar.gz。

下载完毕后解压：
tar -xvf frp_0.51.2_linux_arm64.tar.gz
cd frp_0.51.2_linux_arm64
远程 Linux 为客户端，所以只需要保留 frpc* 文件即可，frps可以删除。
rm frps*
修改frpc.ini，只需要将server_addr修改为服务器的 IP 地址即可，local_ip不变。server_port和remote_port一般不变，若与其他服务冲突了可以修改。
vim frpc.ini	#:wq 退出

配置服务器同样下载好对应系统版本的 frp，解压后删除frpc*文件。
rm frpc*
修改frpc.ini，确保bind_port与 frpc 客户端，即远程主机的server_port一致。
再前往阿里云或腾讯云官网配置服务器防火墙规则，开放服务器的 6000 和 7000 端口（若修改了则开放修改后的端口）。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.cassdev.com/posts/"},{"@type":"ListItem","position":2,"name":"通过 frp 内网穿透实现异地 SSH 连接（反向代理）","item":"https://blog.cassdev.com/posts/%E9%80%9A%E8%BF%87-frp-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%AE%9E%E7%8E%B0%E5%BC%82%E5%9C%B0-ssh-%E8%BF%9E%E6%8E%A5%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"通过 frp 内网穿透实现异地 SSH 连接（反向代理）","name":"通过 frp 内网穿透实现异地 SSH 连接（反向代理）","description":"起因是我放假回家，想在家里通过 SSH 连接放在学校的无显示器的 Linux，但是学校的 Linux 是内网，无法直接连接，且无显示器无法使用向日葵等远程桌面软件，所以想到了使用 frp 的反向代理功能实现内网穿透，进而实现异地 SSH 连接。\n前提 一台具有公网 IP 的服务器（阿里云、腾讯云等） 配置远程主机我们需要有三台主机，分别是：自己的电脑、远程 Linux 主机和具有公网 IP 的服务器。\n只需要在远程 Linux 和具有公网 IP 的服务器上配置 frp 即可。\n首先在远程 Linux 上下载 frp，Github 下载地址。下载远程主机对应的版本，我这里是 ARM64 架构的 Linux，所以下载 frp_0.51.2_linux_arm64.tar.gz。\n下载完毕后解压：\ntar -xvf frp_0.51.2_linux_arm64.tar.gz cd frp_0.51.2_linux_arm64 远程 Linux 为客户端，所以只需要保留 frpc* 文件即可，frps可以删除。\nrm frps* 修改frpc.ini，只需要将server_addr修改为服务器的 IP 地址即可，local_ip不变。server_port和remote_port一般不变，若与其他服务冲突了可以修改。\nvim frpc.ini\t#:wq 退出 配置服务器同样下载好对应系统版本的 frp，解压后删除frpc*文件。\nrm frpc* 修改frpc.ini，确保bind_port与 frpc 客户端，即远程主机的server_port一致。\n再前往阿里云或腾讯云官网配置服务器防火墙规则，开放服务器的 6000 和 7000 端口（若修改了则开放修改后的端口）。\n","keywords":["FRP","SSH","Reverse Proxy","NAT Traversal","Tutorial"],"articleBody":"起因是我放假回家，想在家里通过 SSH 连接放在学校的无显示器的 Linux，但是学校的 Linux 是内网，无法直接连接，且无显示器无法使用向日葵等远程桌面软件，所以想到了使用 frp 的反向代理功能实现内网穿透，进而实现异地 SSH 连接。\n前提 一台具有公网 IP 的服务器（阿里云、腾讯云等） 配置远程主机我们需要有三台主机，分别是：自己的电脑、远程 Linux 主机和具有公网 IP 的服务器。\n只需要在远程 Linux 和具有公网 IP 的服务器上配置 frp 即可。\n首先在远程 Linux 上下载 frp，Github 下载地址。下载远程主机对应的版本，我这里是 ARM64 架构的 Linux，所以下载 frp_0.51.2_linux_arm64.tar.gz。\n下载完毕后解压：\ntar -xvf frp_0.51.2_linux_arm64.tar.gz cd frp_0.51.2_linux_arm64 远程 Linux 为客户端，所以只需要保留 frpc* 文件即可，frps可以删除。\nrm frps* 修改frpc.ini，只需要将server_addr修改为服务器的 IP 地址即可，local_ip不变。server_port和remote_port一般不变，若与其他服务冲突了可以修改。\nvim frpc.ini\t#:wq 退出 配置服务器同样下载好对应系统版本的 frp，解压后删除frpc*文件。\nrm frpc* 修改frpc.ini，确保bind_port与 frpc 客户端，即远程主机的server_port一致。\n再前往阿里云或腾讯云官网配置服务器防火墙规则，开放服务器的 6000 和 7000 端口（若修改了则开放修改后的端口）。\n启动 frp先启动服务器的frps：\n./frps -c frps.ini 显示以下三行则代表启动成功：\n再启动远程主机的frpc：\n./frpc -c frpc.ini 连接远程主机启动成功后就可以尝试 SSH 连接远程 Linux 主机了：\nssh -p @ 其中，为上面frpc.ini里的server_port，为上面frpc.ini里的server_port，为远程 Linux 的用户名。\n","wordCount":"89","inLanguage":"zh","datePublished":"2024-06-16T11:20:31+08:00","dateModified":"2024-06-16T11:20:31+08:00","author":{"@type":"Person","name":"Cassius0924"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.cassdev.com/posts/%E9%80%9A%E8%BF%87-frp-%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%AE%9E%E7%8E%B0%E5%BC%82%E5%9C%B0-ssh-%E8%BF%9E%E6%8E%A5%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/"},"publisher":{"@type":"Organization","name":"Cassius0924 的博客","logo":{"@type":"ImageObject","url":"https://blog.cassdev.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.cassdev.com/ accesskey=h title="Cassius0924 的博客 (Alt + H)">Cassius0924 的博客</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://blog.cassdev.com/en/ title=English aria-label=English>English</a></li></ul></div></div><ul id=menu><li><a href=https://blog.cassdev.com/ title="Cassius0924 的博客"><span>首页</span></a></li><li><a href=https://blog.cassdev.com/search/ title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://blog.cassdev.com/mind-space/ title=思维空间><span>思维空间</span></a></li><li><a href=https://blog.cassdev.com/tags/ title=标签><span>标签</span></a></li><li><a href=https://blog.cassdev.com/archives/ title=归档><span>归档</span></a></li><li><a href=https://blog.cassdev.com/friends/ title=友链><span>友链</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.cassdev.com/>主页</a>&nbsp;»&nbsp;<a href=https://blog.cassdev.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">通过 frp 内网穿透实现异地 SSH 连接（反向代理）</h1><div class=post-meta><span title='2024-06-16 11:20:31 +0800 +0800'>2024年06月16日</span>&nbsp;·&nbsp;1 分钟&nbsp;·&nbsp;Cassius0924</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e5%89%8d%e6%8f%90 aria-label=前提>前提</a></li><li><a href=#%e9%85%8d%e7%bd%ae%e8%bf%9c%e7%a8%8b%e4%b8%bb%e6%9c%ba aria-label=配置远程主机>配置远程主机</a></li><li><a href=#%e9%85%8d%e7%bd%ae%e6%9c%8d%e5%8a%a1%e5%99%a8 aria-label=配置服务器>配置服务器</a></li><li><a href=#%e5%90%af%e5%8a%a8-frp aria-label="启动 frp">启动 frp</a></li><li><a href=#%e8%bf%9e%e6%8e%a5%e8%bf%9c%e7%a8%8b%e4%b8%bb%e6%9c%ba aria-label=连接远程主机>连接远程主机</a></li></ul></div></details></div><div class=post-content><p>起因是我放假回家，想在家里通过 SSH 连接放在学校的无显示器的 Linux，但是学校的 Linux 是内网，无法直接连接，且无显示器无法使用向日葵等远程桌面软件，所以想到了使用 frp 的反向代理功能实现内网穿透，进而实现异地 SSH 连接。</p><h2 id=前提>前提<a hidden class=anchor aria-hidden=true href=#前提>#</a></h2><ul><li>一台具有公网 IP 的服务器（阿里云、腾讯云等）</li></ul><h2 id=配置远程主机>配置远程主机<a hidden class=anchor aria-hidden=true href=#配置远程主机>#</a></h2><p>我们需要有三台主机，分别是：自己的电脑、远程 Linux 主机和具有公网 IP 的服务器。</p><p>只需要在远程 Linux 和具有公网 IP 的服务器上配置 frp 即可。</p><p>首先在远程 Linux 上下载 frp，<a href=https://github.com/fatedier/frp/releases>Github 下载地址</a>。下载远程主机对应的版本，我这里是 ARM64 架构的 Linux，所以下载 <code>frp_0.51.2_linux_arm64.tar.gz</code>。</p><p><img alt="frp GitHub" loading=lazy src=https://s2.loli.net/2023/08/01/P5MzmKDEeBjdJF3.png></p><p>下载完毕后解压：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>tar -xvf frp_0.51.2_linux_arm64.tar.gz
</span></span><span class=line><span class=cl><span class=nb>cd</span> frp_0.51.2_linux_arm64
</span></span></code></pre></div><p>远程 Linux 为客户端，所以只需要保留 <code>frpc*</code> 文件即可，<code>frps</code>可以删除。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>rm frps*
</span></span></code></pre></div><p>修改<code>frpc.ini</code>，只需要将<code>server_addr</code>修改为服务器的 IP 地址即可，<code>local_ip</code>不变。<code>server_port</code>和<code>remote_port</code>一般不变，若与其他服务冲突了可以修改。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>vim frpc.ini	<span class=c1>#:wq 退出</span>
</span></span></code></pre></div><p><img alt="vim frpc.ini" loading=lazy src=https://s2.loli.net/2023/08/01/r6dks5YSEm9WUXl.png></p><h2 id=配置服务器>配置服务器<a hidden class=anchor aria-hidden=true href=#配置服务器>#</a></h2><p>同样下载好对应系统版本的 frp，解压后删除<code>frpc*</code>文件。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>rm frpc*
</span></span></code></pre></div><p>修改<code>frpc.ini</code>，确保<code>bind_port</code>与 frpc 客户端，即远程主机的<code>server_port</code>一致。</p><p>再前往阿里云或腾讯云官网配置服务器防火墙规则，开放服务器的 6000 和 7000 端口（若修改了则开放修改后的端口）。</p><p><img alt=aliyun loading=lazy src=https://s2.loli.net/2023/08/01/gfIVoMU2mlDJY6t.png></p><h2 id=启动-frp>启动 frp<a hidden class=anchor aria-hidden=true href=#启动-frp>#</a></h2><p>先启动服务器的<code>frps</code>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>./frps -c frps.ini
</span></span></code></pre></div><p>显示以下三行则代表启动成功：</p><p><img alt=./frps loading=lazy src=https://s2.loli.net/2023/08/01/veKSDbOCPAGoHVj.png></p><p>再启动远程主机的<code>frpc</code>：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>./frpc -c frpc.ini
</span></span></code></pre></div><h2 id=连接远程主机>连接远程主机<a hidden class=anchor aria-hidden=true href=#连接远程主机>#</a></h2><p>启动成功后就可以尝试 SSH 连接远程 Linux 主机了：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>ssh -p &lt;server_port&gt; &lt;user&gt;@&lt;server_addr&gt;
</span></span></code></pre></div><p>其中，&lt;server_port>为上面<code>frpc.ini</code>里的<code>server_port</code>，&lt;server_addr>为上面<code>frpc.ini</code>里的<code>server_port</code>，<user>为远程 Linux 的用户名。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.cassdev.com/tags/frp/>FRP</a></li><li><a href=https://blog.cassdev.com/tags/ssh/>SSH</a></li><li><a href=https://blog.cassdev.com/tags/reverse-proxy/>Reverse Proxy</a></li><li><a href=https://blog.cassdev.com/tags/nat-traversal/>NAT Traversal</a></li><li><a href=https://blog.cassdev.com/tags/tutorial/>Tutorial</a></li></ul></footer></article></main><footer class=footer><span>Copyright © 2025-2025 Cassius0924. All rights reserved.</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>